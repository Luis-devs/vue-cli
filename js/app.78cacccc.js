(function(e){function t(t){for(var a,i,o=t[0],c=t[1],l=t[2],d=0,b=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&b.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(b.length)b.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,o=1;o<r.length;o++){var c=r[o];0!==n[c]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={app:0},s=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/vue-cli/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"4df1":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("7a23"),n={class:"container"},s=Object(a["f"])("nav",{class:"navbar-nav navbar-light bg-light text-center"},[Object(a["f"])("div",{class:"container-fluid"},[Object(a["f"])("div",{class:"navbar-collapse",id:"navbarText"},[Object(a["f"])("h2",null,"Usuarios chat")])])],-1);function i(e,t){var r=Object(a["w"])("router-view");return Object(a["r"])(),Object(a["e"])("div",n,[s,Object(a["i"])(r)])}r("7f43");var o=r("6b0d"),c=r.n(o);const l={},u=c()(l,[["render",i]]);var d=u,b=r("6c02"),f={class:"container-fluid"};function m(e,t,r,n,s,i){var o=Object(a["w"])("Main");return Object(a["r"])(),Object(a["e"])("div",f,[Object(a["i"])(o)])}var p={class:"pb-4 mt-4"},h=Object(a["f"])("br",null,null,-1),v={key:0,class:"table-responsive"},j={class:"table table-borderless table-hover"},O=Object(a["f"])("thead",null,[Object(a["f"])("tr",null,[Object(a["f"])("th",null,"Id"),Object(a["f"])("th",null,"Nombre"),Object(a["f"])("th",null,"Email"),Object(a["f"])("th",null,"Identificador"),Object(a["f"])("th",null,"Acciones")])],-1),y={class:"d-flex align-items-center gap-2 gap-lg-3"},g={class:"m-0"},E=["onClick"],w=["onClick"],x=Object(a["h"])(" Eliminar "),A=Object(a["f"])("span",{class:"px-1"},null,-1),k=[x,A],_={key:1},L=Object(a["f"])("span",null,"Sin datos.",-1),C=[L];function S(e,t,r,n,s,i){var o=Object(a["w"])("Modal");return Object(a["r"])(),Object(a["e"])("div",null,[Object(a["f"])("div",p,[Object(a["f"])("a",{"data-bs-toggle":"modal",onClick:t[0]||(t[0]=function(e){return i.Nuevo("New")}),"data-bs-target":"#exampleModal",class:"btn metronic-new btn-sm btn-flex btn-active-primary fw-bolder"}," Nuevo ")]),Object(a["f"])("div",null,[h,s.datos?(Object(a["r"])(),Object(a["e"])("div",v,[Object(a["f"])("table",j,[O,Object(a["f"])("tbody",null,[(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["v"])(s.datos,(function(e){return Object(a["r"])(),Object(a["e"])("tr",{key:e},[Object(a["f"])("td",null,Object(a["y"])(e.id_usuario),1),Object(a["f"])("td",null,Object(a["y"])(e.nombre),1),Object(a["f"])("td",null,Object(a["y"])(e.correo),1),Object(a["f"])("td",null,Object(a["y"])(e.identificador),1),Object(a["f"])("td",null,[Object(a["f"])("div",y,[Object(a["f"])("div",g,[Object(a["f"])("a",{onClick:function(t){return i.actualizar(e.id_usuario)},"data-bs-target":"#exampleModal","data-bs-toggle":"modal",class:"btn metronic btn-sm btn-flex btn-light btn-active-primary fw-bolder"}," Actualizar ",8,E),Object(a["f"])("a",{onClick:function(t){return i.eliminaruser(e.id_usuario)},class:"btn metronic btn-sm btn-flex btn-light btn-active-primary fw-bolder"},k,8,w)])])])])})),128))])])])):(Object(a["r"])(),Object(a["e"])("div",_,C)),Object(a["i"])(o,{opcs:i.volver,dataAct:i.volverData,onConsultar:i.consultar},null,8,["opcs","dataAct","onConsultar"])])])}r("4de4"),r("d3b7");var N=r("1da1"),q=r("d4ec"),M=r("bee2"),z=(r("96cf"),r("e9c4"),"https://vue-cli-api.000webhostapp.com/api/api.php?accion="),P=function(){function e(){Object(q["a"])(this,e)}return Object(M["a"])(e,[{key:"crear",value:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(z,"INSERT"),{method:"POST",body:JSON.stringify(t)});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"leer",value:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(z,"SELECT"));case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"actualizar",value:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(z,"UPDATE"),{method:"POST",body:JSON.stringify(t)});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"eliminar",value:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(z,"DELETE"),{method:"POST",body:JSON.stringify(t)});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),T=new P,V={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},B={class:"modal-dialog"},U={class:"modal-content"},R={class:"modal-header"},I={class:"modal-title",id:"exampleModalLabel"},D={key:0},J={key:1},$=Object(a["h"])(" usuario"),H=Object(a["f"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Z=Object(a["g"])('<svg xmlns="http://www.w3.org/2000/svg" style="display:none;"><symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"></path></symbol><symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16"><path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"></path></symbol></svg>',1),G={key:0,class:"alert alert-success d-flex align-items-center",role:"alert"},Q=Object(a["f"])("svg",{class:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img","aria-label":"Success:"},[Object(a["f"])("use",{"xlink:href":"#check-circle-fill"})],-1),F={key:1,class:"alert alert-danger d-flex align-items-center",role:"alert"},K=Object(a["f"])("svg",{class:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img","aria-label":"Danger:"},[Object(a["f"])("use",{"xlink:href":"#exclamation-triangle-fill"})],-1),W={class:"modal-body"},X={class:"mb-3"},Y=Object(a["f"])("label",{for:"nombre",class:"form-label"},[Object(a["h"])("Nombre"),Object(a["f"])("span",{class:"required"},"*")],-1),ee={key:0,class:"feedback"},te={class:"mb-3"},re=Object(a["f"])("label",{for:"email",class:"form-label"},[Object(a["h"])("Email"),Object(a["f"])("span",{class:"required"},"*")],-1),ae={key:0,class:"feedback"},ne={class:"mb-3"},se=Object(a["f"])("label",{for:"pass",class:"form-label"},[Object(a["h"])("Contraseña"),Object(a["f"])("span",{class:"required"},"*")],-1),ie={key:0,class:"feedback"},oe={class:"modal-footer"},ce=Object(a["f"])("button",{type:"button",class:"btn metronic ml-3","data-bs-dismiss":"modal"}," Cancelar ",-1),le={type:"submit",id:"enviar",class:"btn metronic-new"},ue={key:0},de={key:1};function be(e,t,r,n,s,i){return Object(a["r"])(),Object(a["e"])("div",V,[Object(a["f"])("div",B,[Object(a["f"])("div",U,[Object(a["f"])("div",R,[Object(a["f"])("h5",I,["New"==r.opcs?(Object(a["r"])(),Object(a["e"])("span",D,"Nuevo")):(Object(a["r"])(),Object(a["e"])("span",J,"Actualizar")),$]),H]),Z,s.alert_success?(Object(a["r"])(),Object(a["e"])("div",G,[Q,Object(a["f"])("div",null,Object(a["y"])(s.mensaje_alert),1)])):Object(a["d"])("",!0),s.alert_error?(Object(a["r"])(),Object(a["e"])("div",F,[K,Object(a["f"])("div",null,Object(a["y"])(s.mensaje_alert),1)])):Object(a["d"])("",!0),Object(a["f"])("form",{class:"needs-validation",onSubmit:t[3]||(t[3]=function(){return i.Validar&&i.Validar.apply(i,arguments)}),novalidate:""},[Object(a["f"])("div",W,[Object(a["f"])("div",X,[Y,Object(a["C"])(Object(a["f"])("input",{type:"text",autocomplete:"off","onUpdate:modelValue":t[0]||(t[0]=function(e){return s.nombre=e}),class:"form-control",name:"nombre",id:"nombre",required:""},null,512),[[a["A"],s.nombre]]),s.errors[0]?(Object(a["r"])(),Object(a["e"])("div",ee,Object(a["y"])(s.errors[0]),1)):Object(a["d"])("",!0)]),Object(a["f"])("div",te,[re,Object(a["C"])(Object(a["f"])("input",{type:"email",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.email=e}),name:"email",id:"email",required:""},null,512),[[a["A"],s.email]]),s.errors[1]?(Object(a["r"])(),Object(a["e"])("div",ae,Object(a["y"])(s.errors[1]),1)):Object(a["d"])("",!0)]),Object(a["f"])("div",ne,[se,Object(a["C"])(Object(a["f"])("input",{type:"text",autocomplete:"off","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.pass=e}),class:"form-control",name:"pass",id:"pass",required:""},null,512),[[a["A"],s.pass]]),s.errors[2]?(Object(a["r"])(),Object(a["e"])("div",ie,Object(a["y"])(s.errors[2]),1)):Object(a["d"])("",!0)])]),Object(a["f"])("div",oe,[ce,Object(a["f"])("button",le,["New"==r.opcs?(Object(a["r"])(),Object(a["e"])("span",ue,"Guardar")):(Object(a["r"])(),Object(a["e"])("span",de,"Actualizar"))])])],32)])])])}r("159b"),r("fb6a"),r("ac1f"),r("00b4");var fe={name:"Modal",props:{opcs:String,dataAct:Array},data:function(){return{errors:[],id:null,nombre:"",email:"",pass:"",opc:"",alert_success:!1,alert_error:!1,mensaje_alert:""}},watch:{dataAct:function(){"Update"==this.opcs?(this.id=this.dataAct[0].id_usuario,this.nombre=this.dataAct[0].nombre,this.email=this.dataAct[0].correo,this.pass=this.dataAct[0].identificador,this.errors=[]):(this.id=null,this.nombre="",this.email="",this.pass="",this.errors=[]),this.quitarEstilos()}},methods:{quitarEstilos:function(){var e=document.querySelectorAll("#nombre"),t=document.querySelectorAll("#email"),r=document.querySelectorAll("#pass");Array.prototype.slice.call(e).forEach((function(e){e.classList.remove("invalid"),e.classList.remove("valid")})),Array.prototype.slice.call(t).forEach((function(e){e.classList.remove("valid"),e.classList.remove("invalid")})),Array.prototype.slice.call(r).forEach((function(e){e.classList.remove("valid"),e.classList.remove("invalid")}))},ValidarEmail:function(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},ValidarVacio:function(e){var t=/^\s+$/;return t.test(e)},Estilos:function(e,t){var r=document.querySelectorAll("#nombre"),a=document.querySelectorAll("#email"),n=document.querySelectorAll("#pass");"ponerNombre"==e&&1==t?Array.prototype.slice.call(r).forEach((function(e){e.classList.remove("valid"),e.classList.add("invalid")})):"ponerNombre"==e&&0==t&&Array.prototype.slice.call(r).forEach((function(e){e.classList.remove("invalid"),e.classList.add("valid")})),"ponerEmail"==e&&1==t?Array.prototype.slice.call(a).forEach((function(e){e.classList.remove("valid"),e.classList.add("invalid")})):"ponerEmail"==e&&0==t&&Array.prototype.slice.call(a).forEach((function(e){e.classList.remove("invalid"),e.classList.add("valid")})),"ponerPass"==e&&1==t?Array.prototype.slice.call(n).forEach((function(e){e.classList.remove("valid"),e.classList.add("invalid")})):"ponerPass"==e&&0==t&&Array.prototype.slice.call(n).forEach((function(e){e.classList.remove("invalid"),e.classList.add("valid")}))},Validar:function(e){var t=this;e.preventDefault(),this.errors=[],this.ValidarVacio(this.nombre)||0==this.nombre.length?(this.errors.push("El campo nombre no puede quedar vacio."),this.Estilos("ponerNombre",1)):this.nombre.length<3?(this.errors.push("El nombre debe tener mínimo 3 letras."),this.Estilos("ponerNombre",1)):(this.errors.push(null),this.Estilos("ponerNombre",0)),this.ValidarVacio(this.email)||0==this.email.length?(this.errors.push("El campo email no puede quedar vacio."),this.Estilos("ponerEmail",1)):this.ValidarEmail(this.email)?(this.errors.push(null),this.Estilos("ponerEmail",0)):(this.errors.push("Email inválido."),this.Estilos("ponerEmail",1)),this.ValidarVacio(this.pass)||0==this.pass.length?(this.errors.push("El campo contraseña no puede quedar vacio."),this.Estilos("ponerPass",1)):this.pass.length<5?(this.errors.push("La contraseña debe tener mínimo 5 letras."),this.Estilos("ponerPass",1)):(this.errors.push(null),this.Estilos("ponerPass",0)),this.errors[0]||this.errors[1]||this.errors[2]||(document.getElementById("enviar").disabled=!0,this.id?T.actualizar({id:this.id,nombre:this.nombre,correo:this.email,pass:this.pass}).then((function(e){e[0].status?(t.errors=[],t.$emit("consultar"),t.alert_success=!0,t.mensaje_alert="Usuario actualizado correctamente.",setTimeout((function(){t.alert_success=!1,document.getElementById("enviar").disabled=!1,t.quitarEstilos()}),1900),console.log(e)):(t.alert_error=!0,t.mensaje_alert="No se pudo actualizar el usuario, intenté nuevamente.",setTimeout((function(){t.alert_error=!1,document.getElementById("enviar").disabled=!1}),1900),console.log(e[0].info))})):T.crear({nombre:this.nombre,correo:this.email,pass:this.pass}).then((function(e){e[0].status?(t.quitarEstilos(),t.id=null,t.nombre="",t.email="",t.pass="",t.errors=[],t.$emit("consultar"),t.alert_success=!0,t.mensaje_alert="Usuario registrado correctamente.",setTimeout((function(){t.alert_success=!1,document.getElementById("enviar").disabled=!1}),1900),console.log(e)):(t.alert_error=!0,t.mensaje_alert="No se pudo registrar el usuario, intenté nuevamente.",setTimeout((function(){t.alert_error=!1}),1900),document.getElementById("enviar").disabled=!1,console.log(e[0].info))})))}},computed:{}};r("a56e");const me=c()(fe,[["render",be]]);var pe=me,he=r("3d20"),ve=r.n(he),je={name:"Main",components:{Modal:pe},data:function(){return{datos:[],opc:"",datosAct:[]}},created:function(){this.consultar()},methods:{consultar:function(){var e=this;T.leer().then((function(t){e.datos=t}))},actualizar:function(e){this.opc="Update",this.datosAct=[],this.datosAct=this.datos.filter((function(t){return t.id_usuario==e}))},eliminaruser:function(e){var t=this;ve.a.fire({title:"¿Quieres eliminar este usuario?",text:"¡Esta acción no se podrá deshacer!",icon:"warning",iconColor:"red",focusCancel:!0,showCancelButton:!0,confirmButtonText:"Si, eliminar.",cancelButtonText:"No, cancelar."}).then((function(r){r.isConfirmed&&T.eliminar({id:e}).then((function(e){e[0].status?(ve.a.fire({title:"Usuario eliminado.",text:"Ha sido eliminado el registro del usuario.",icon:"success",showCancelButton:!1,showConfirmButton:!1,timer:1600}),t.consultar()):(ve.a.fire({title:"Error al eliminar.",text:"No se pudo eliminar el usuario, intenté nuevamente.",icon:"error",showCancelButton:!1,showConfirmButton:!1,timer:1600}),console.log(e[0].info))}))}))},Nuevo:function(e){this.opc=e,this.datosAct=[]}},computed:{volver:function(){return this.opc},volverData:function(){return this.datosAct}}};r("6c45");const Oe=c()(je,[["render",S]]);var ye=Oe,ge={name:"Home",components:{Main:ye},methods:{}};const Ee=c()(ge,[["render",m]]);var we=Ee,xe=[{path:"/",name:"Home",component:we}],Ae=Object(b["a"])({history:Object(b["b"])("/vue-cli/"),routes:xe}),ke=Ae;r("7b17"),r("ab8b"),r("4413");Object(a["c"])(d).use(ke).mount("#app")},"6c45":function(e,t,r){"use strict";r("4df1")},"6ecb":function(e,t,r){},"7f43":function(e,t,r){"use strict";r("9dea")},"9dea":function(e,t,r){},a56e:function(e,t,r){"use strict";r("6ecb")}});
//# sourceMappingURL=app.78cacccc.js.map